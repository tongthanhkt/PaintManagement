var classofRaw = require('../internals/classof-raw');
var uncurryThisRaw = require('../internals/function-uncurry-this-raw');

<<<<<<< HEAD
=======
<<<<<<< HEAD
var FunctionPrototype = Function.prototype;
=======
var $Function = Function;
var FunctionPrototype = $Function.prototype;
>>>>>>> f65d1c32 (Fix all bugs)
var bind = FunctionPrototype.bind;
var call = FunctionPrototype.call;
var uncurryThis = NATIVE_BIND && bind.bind(call, call);

<<<<<<< HEAD
module.exports = NATIVE_BIND ? function (fn) {
  return fn && uncurryThis(fn);
} : function (fn) {
  return fn && function () {
    return call.apply(fn, arguments);
  };
=======
>>>>>>> 37cd802fb (Fix all bugs)
module.exports = function (fn) {
  // Nashorn bug:
  //   https://github.com/zloirock/core-js/issues/1128
  //   https://github.com/zloirock/core-js/issues/1130
<<<<<<< HEAD
  if (classofRaw(fn) === 'Function') return uncurryThisRaw(fn);
=======
  return fn instanceof $Function ? NATIVE_BIND ? uncurryThis(fn) : function () {
    return call.apply(fn, arguments);
  } : undefined;
>>>>>>> f65d1c32 (Fix all bugs)
>>>>>>> 37cd802fb (Fix all bugs)
};
