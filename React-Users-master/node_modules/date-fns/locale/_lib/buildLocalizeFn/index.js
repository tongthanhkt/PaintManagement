"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = buildLocalizeFn;

function buildLocalizeFn(args) {
<<<<<<< HEAD
  return function (dirtyIndex, options) {
    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';
=======
  return function (dirtyIndex, dirtyOptions) {
    var options = dirtyOptions || {};
    var context = options.context ? String(options.context) : 'standalone';
>>>>>>> f65d1c32 (Fix all bugs)
    var valuesArray;

    if (context === 'formatting' && args.formattingValues) {
      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
<<<<<<< HEAD
      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;
=======
      var width = options.width ? String(options.width) : defaultWidth;
>>>>>>> f65d1c32 (Fix all bugs)
      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
    } else {
      var _defaultWidth = args.defaultWidth;

<<<<<<< HEAD
      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;
=======
      var _width = options.width ? String(options.width) : args.defaultWidth;
>>>>>>> f65d1c32 (Fix all bugs)

      valuesArray = args.values[_width] || args.values[_defaultWidth];
    }

<<<<<<< HEAD
    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!

=======
    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;
>>>>>>> f65d1c32 (Fix all bugs)
    return valuesArray[index];
  };
}

module.exports = exports.default;